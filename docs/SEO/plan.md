# SEO Migration Plan

This document outlines the SEO features in `BaseHead.astro` and their migration status to the current pages.

## Feature Comparison Matrix

| Feature | BaseHead.astro | index.astro | blog/index.astro | blog/[slug].astro | Action Needed |
|---------|---------------|-------------|------------------|-------------------|---------------|
| charset | ✅ | ✅ | ✅ | ✅ | None |
| viewport | ✅ | ✅ | ✅ | ✅ | None |
| favicon | ✅ | ✅ | ✅ | ✅ | None |
| title | ✅ | ✅ | ✅ | ✅ | None |
| description | ✅ | ✅ | ✅ | ✅ | None |
| generator | ✅ | ✅ | ✅ | ✅ | None |
| og:title | ✅ | ✅ | ✅ | ✅ | None |
| og:description | ✅ | ✅ | ✅ | ✅ | None |
| og:type | ✅ | ✅ | ✅ | ✅ | None |
| og:url | ✅ | ✅ | ✅ | ✅ | None |
| og:image | ✅ | ❌ | ❌ | ✅ (conditional) | **Add to index & blog index** |
| twitter:card | ✅ | ✅ | ✅ | ✅ | None |
| twitter:title | ✅ | ✅ | ✅ | ✅ | None |
| twitter:description | ✅ | ✅ | ✅ | ✅ | None |
| twitter:image | ✅ | ❌ | ❌ | ✅ (conditional) | **Add to index & blog index** |
| canonical URL | ✅ | ❌ | ❌ | ❌ | **Add to all pages** |
| sitemap link | ✅ | ❌ | ❌ | ❌ | Optional (sitemap is auto-generated) |
| RSS link | ✅ | ❌ | ❌ | ❌ | **Add to all pages** |
| font preloads | ✅ | ❌ | ❌ | ❌ | **Add to all pages** |
| article:published_time | N/A | N/A | N/A | ✅ | None |
| article:tag | N/A | N/A | N/A | ✅ | None |

## Required Migrations

### 1. Canonical URLs (High Priority)
**Status:** Missing from all pages
**Why it matters:** Prevents duplicate content issues and consolidates page authority

Add to each page:
```astro
<link rel="canonical" href={Astro.url} />
```

Or for explicit URLs:
```astro
<link rel="canonical" href="https://adamslaker.dev" />
<link rel="canonical" href="https://adamslaker.dev/blog" />
<link rel="canonical" href={`https://adamslaker.dev/blog/${slug}`} />
```

### 2. Open Graph & Twitter Images (High Priority)
**Status:** Missing from `index.astro` and `blog/index.astro`
**Why it matters:** Social sharing previews will show no image

Options:
- Create a default OG image (recommended size: 1200x630px)
- Add to `public/` as `og-image.png` or similar
- Reference in meta tags:

```astro
<meta property="og:image" content="https://adamslaker.dev/og-image.png" />
<meta name="twitter:image" content="https://adamslaker.dev/og-image.png" />
```

### 3. RSS Feed Link (Medium Priority)
**Status:** Missing from all pages
**Why it matters:** Allows RSS readers to auto-discover the feed

Add to each page's `<head>`:
```astro
<link
  rel="alternate"
  type="application/rss+xml"
  title="Adam Slaker"
  href="https://adamslaker.dev/rss.xml"
/>
```

**Note:** The current RSS feed (`src/pages/rss.xml.js`) pulls from the Astro content collection which contains only placeholder posts. This needs to be updated to use `writings` from `site-data.ts` instead.

### 4. Font Preloads (Low Priority)
**Status:** Missing from all pages
**Why it matters:** Improves font loading performance, reduces layout shift

Add to each page's `<head>`:
```astro
<link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin />
<link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin />
```

**Note:** Only add if you're actually using the Atkinson fonts. Check if your current styles reference these fonts.

### 5. Sitemap Link (Optional)
**Status:** Missing from pages
**Why it matters:** Minimal SEO benefit as search engines find sitemaps via robots.txt

The sitemap is auto-generated by `@astrojs/sitemap` integration. Adding the link is optional:
```astro
<link rel="sitemap" href="/sitemap-index.xml" />
```

## Additional Recommendations

### Update `src/consts.ts`
The constants file still has default Astro template values:
```ts
export const SITE_TITLE = 'Astro Blog';  // Should be: 'Adam Slaker'
export const SITE_DESCRIPTION = 'Welcome to my website!';  // Should be updated
```

These are used by `rss.xml.js`. Update to:
```ts
export const SITE_TITLE = 'Adam Slaker';
export const SITE_DESCRIPTION = 'Building intelligent systems that think, adapt, and ship.';
```

### Fix RSS Feed
The RSS feed currently reads from Astro content collection (placeholder posts). Update `src/pages/rss.xml.js` to use your actual blog data:

```js
import rss from '@astrojs/rss';
import { writings } from '../data/site-data';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';

export async function GET(context) {
  return rss({
    title: SITE_TITLE,
    description: SITE_DESCRIPTION,
    site: context.site,
    items: writings.map((writing) => ({
      title: writing.title,
      pubDate: new Date(writing.publishedAt),
      description: writing.excerpt,
      link: `/blog/${writing.slug}/`,
    })),
  });
}
```

### Create Shared Head Component (Optional)
To avoid duplicating SEO tags across pages, consider creating a reusable component:

```astro
// src/components/SEOHead.astro
---
interface Props {
  title: string;
  description: string;
  image?: string;
  type?: 'website' | 'article';
  url: string;
}

const {
  title,
  description,
  image = 'https://adamslaker.dev/og-image.png',
  type = 'website',
  url
} = Astro.props;
---

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content={description} />
<meta name="generator" content={Astro.generator} />

<link rel="canonical" href={url} />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="sitemap" href="/sitemap-index.xml" />
<link rel="alternate" type="application/rss+xml" title="Adam Slaker" href="https://adamslaker.dev/rss.xml" />

<link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin />
<link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin />

<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:type" content={type} />
<meta property="og:url" content={url} />
<meta property="og:image" content={image} />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={image} />

<title>{title}</title>
```

## Implementation Priority

1. **High:** Canonical URLs, OG/Twitter images
2. **Medium:** RSS feed link, Fix RSS feed source
3. **Low:** Font preloads, Sitemap link, Shared SEO component

## Files to Update

- `src/pages/index.astro`
- `src/pages/blog/index.astro`
- `src/pages/blog/[slug].astro`
- `src/consts.ts`
- `src/pages/rss.xml.js`

## Files Safe to Delete After Migration

Once the above migrations are complete:
- `src/components/BaseHead.astro`
- `src/layouts/BlogPost.astro`
- `src/pages/about.astro`
- All placeholder blog posts in `src/content/blog/`
- All placeholder images in `src/assets/`
